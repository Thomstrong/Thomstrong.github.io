<!DOCTYPE html>



  


<html class="theme-next muse use-motion" lang="zh-Hans">
<head><meta name="generator" content="Hexo 3.9.0">
  <meta name="baidu-site-verification" content="UqlC4pwKIm">
  <meta name="baidu-site-verification" content="d3U0dGeqGw">
  <meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
<meta name="theme-color" content="#222">



  
  
    
    
  <script src="/lib/pace/pace.min.js?v=1.0.2"></script>
  <link href="/lib/pace/pace-theme-minimal.min.css?v=1.0.2" rel="stylesheet">







<meta http-equiv="Cache-Control" content="no-transform">
<meta http-equiv="Cache-Control" content="no-siteapp">



  <meta name="google-site-verification" content="1C1XSuJ8TgM2O0mcZvsgzEdy0IdRZOJfxDYPyh18U9Q">














  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css">




  
  
  
  

  
    
    
  

  

  
    
      
    

    
  

  
    
      
    

    
  

  
    
      
    

    
  

  
    
    
    <link href="//fonts.cat.net/css?family=Roboto Slab:300,300italic,400,400italic,700,700italic|Roboto Slab:300,300italic,400,400italic,700,700italic|Lobster Two:300,300italic,400,400italic,700,700italic|PT Mono:300,300italic,400,400italic,700,700italic&subset=latin,latin-ext" rel="stylesheet" type="text/css">
  






<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css">

<link href="/css/main.css?v=5.1.3" rel="stylesheet" type="text/css">


  <link rel="apple-touch-icon" sizes="180x180" href="/images/icon.png?v=5.1.3">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/icon.png?v=5.1.3">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/icon.png?v=5.1.3">


  <link rel="mask-icon" href="/images/logo.svg?v=5.1.3" color="#222">





  <meta name="keywords" content="Golang,">










<meta name="description" content="学习自菜鸟教程/编码自Go指南/更全的教程  简介分类 静态强类型、编译型、并发型  特色 简洁、快速、安全 并行、有趣、开源 内存管理、数组安全、编译迅速  用途 搭载 Web 服务器 存储集群 巨型中央服务器的系统  写代码一个例子12345678package main // 定义包名，main包表示一个可独立执行的程序，每个Go应用都包含一个名为main的包import &quot;fmt&quot; /">
<meta name="keywords" content="Golang">
<meta property="og:type" content="article">
<meta property="og:title" content="Go 语言基础学习">
<meta property="og:url" content="https://thomstrong.github.io/2019/07/23/first-golang/index.html">
<meta property="og:site_name" content="Thomstrong&#39;s Blog">
<meta property="og:description" content="学习自菜鸟教程/编码自Go指南/更全的教程  简介分类 静态强类型、编译型、并发型  特色 简洁、快速、安全 并行、有趣、开源 内存管理、数组安全、编译迅速  用途 搭载 Web 服务器 存储集群 巨型中央服务器的系统  写代码一个例子12345678package main // 定义包名，main包表示一个可独立执行的程序，每个Go应用都包含一个名为main的包import &quot;fmt&quot; /">
<meta property="og:locale" content="zh-Hans">
<meta property="og:updated_time" content="2019-12-09T16:28:40.527Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Go 语言基础学习">
<meta name="twitter:description" content="学习自菜鸟教程/编码自Go指南/更全的教程  简介分类 静态强类型、编译型、并发型  特色 简洁、快速、安全 并行、有趣、开源 内存管理、数组安全、编译迅速  用途 搭载 Web 服务器 存储集群 巨型中央服务器的系统  写代码一个例子12345678package main // 定义包名，main包表示一个可独立执行的程序，每个Go应用都包含一个名为main的包import &quot;fmt&quot; /">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Muse',
    version: '5.1.3',
    sidebar: {"position":"right","display":"post","offset":12,"b2t":false,"scrollpercent":true,"onmobile":true},
    fancybox: true,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    duoshuo: {
      userId: 'undefined',
      author: '博主'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="https://thomstrong.github.io/2019/07/23/first-golang/">





  <title>Go 语言基础学习 | Thomstrong's Blog</title>
  




<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
            (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
          m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
  ga('create', 'UA-111723881-1', 'auto');
  ga('send', 'pageview');
</script>





</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  
  
    
  

  <div class="container sidebar-position-right page-post-detail">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">Thomstrong's Blog</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <h1 class="site-subtitle" itemprop="description"></h1>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br>
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-th"></i> <br>
            
            分类
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br>
            
            标签
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br>
            
            归档
          </a>
        </li>
      
        
        <li class="menu-item menu-item-about">
          <a href="/about" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-user"></i> <br>
            
            关于
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://thomstrong.github.io/2019/07/23/first-golang/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Thomstrong">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Thomstrong's Blog">
    </span>

    
      <header class="post-header">

        
        
          <h2 class="post-title" itemprop="name headline">Go 语言基础学习</h2>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2019-07-23T17:05:23+08:00">
                2019-07-23
              </time>
            

            
              <span class="post-meta-divider">|</span>
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-check-o"></i>
              </span>
              
                <span class="post-meta-item-text">更新于&#58;</span>
              
              <time title="更新于" itemprop="dateModified" datetime="2019-12-10T00:28:40+08:00">
                2019-12-10
              </time>
            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/技术/" itemprop="url" rel="index">
                    <span itemprop="name">技术</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          
            <div class="post-wordcount">
              
                
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                
                  <span class="post-meta-item-text">字数统计&#58;</span>
                
                <span title="字数统计">
                  4,947
                </span>
              

              
                <span class="post-meta-divider">|</span>
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-clock-o"></i>
                </span>
                
                  <span class="post-meta-item-text">阅读时长 &asymp;</span>
                
                <span title="阅读时长">
                  22
                </span>
              
            </div>
          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        <script src="/assets/js/APlayer.min.js"> </script><blockquote>
<p>学习自<a href="https://www.runoob.com/go/go-concurrent.html" target="_blank" rel="noopener">菜鸟教程</a>/编码自<a href="https://tour.go-zh.org/welcome/1" target="_blank" rel="noopener">Go指南</a>/更全的<a href="https://github.com/unknwon/the-way-to-go_ZH_CN/blob/master/eBook/preface.md" target="_blank" rel="noopener">教程</a></p>
</blockquote>
<h3 id="简介"><a href="#简介" class="headerlink" title="简介"></a>简介</h3><h4 id="分类"><a href="#分类" class="headerlink" title="分类"></a>分类</h4><ul>
<li>静态强类型、编译型、并发型</li>
</ul>
<h4 id="特色"><a href="#特色" class="headerlink" title="特色"></a>特色</h4><ul>
<li>简洁、快速、安全</li>
<li><strong>并行</strong>、有趣、开源</li>
<li>内存管理、数组安全、编译迅速</li>
</ul>
<h4 id="用途"><a href="#用途" class="headerlink" title="用途"></a>用途</h4><ul>
<li>搭载 Web 服务器</li>
<li>存储集群</li>
<li>巨型中央服务器的系统</li>
</ul>
<h3 id="写代码"><a href="#写代码" class="headerlink" title="写代码"></a>写代码</h3><h4 id="一个例子"><a href="#一个例子" class="headerlink" title="一个例子"></a>一个例子</h4><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main <span class="comment">// 定义包名，main包表示一个可独立执行的程序，每个Go应用都包含一个名为main的包</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">"fmt"</span> <span class="comment">// 引入包</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123; <span class="comment">// main函数是所有可执行程序必须包含的，此处&#123;不可换行否则编译错误</span></span><br><span class="line">   <span class="comment">/* 这是我的第一个简单的程序 */</span></span><br><span class="line">   fmt.Println(<span class="string">"Hello, World!"</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li>行分割，每个语句是一行，无需使用<code>;</code>分割</li>
</ul>
<h4 id="变量"><a href="#变量" class="headerlink" title="变量"></a>变量</h4><blockquote>
<p>与其他语言有相同之处，也有不同之处</p>
</blockquote>
<ul>
<li>基本类型：<code>int</code>、<code>bool</code>、<code>float32</code>、<code>float64</code>、<code>string</code>(字符串的字节使用 UTF-8 编码标识 Unicode 文本)</li>
<li><p>衍生类型</p>
<ul>
<li><p>指针类型（Pointer）</p>
</li>
<li><p>数组类型</p>
<ul>
<li>比较</li>
</ul>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">slice1 := []<span class="keyword">int</span>&#123;<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>&#125;</span><br><span class="line">slice2 := []<span class="keyword">int</span>&#123;<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>&#125;</span><br><span class="line">slice3 := []<span class="keyword">int</span>&#123;<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>&#125;</span><br><span class="line">slice4 := []<span class="keyword">int</span>&#123;<span class="number">1</span>,<span class="number">3</span>,<span class="number">2</span>&#125;</span><br><span class="line"></span><br><span class="line">fmt.Println(slice1 == slice2) <span class="comment">// 编译错误，长度不相等，无法比较</span></span><br><span class="line">fmt.Println(slice1 == slice3) <span class="comment">// true</span></span><br><span class="line">fmt.Println(slice1 == slice4) <span class="comment">// false</span></span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
</ul>
<ul>
<li><p>结构化类型(struct)</p>
</li>
<li><p>Channel 类型</p>
</li>
<li><p>函数类型</p>
</li>
<li><p>切片类型</p>
</li>
<li><p>接口类型（interface）</p>
</li>
<li><p>Map 类型</p>
<ul>
<li>单变量声明方法</li>
</ul>
</li>
<li><code>var agePtr *int</code> 没有初始化则默认为零值</li>
<li><code>var d = true</code> 赋初值省略变脸类型</li>
<li><code>f := &quot;Runoob&quot;</code> 省略<code>var</code>和变量类型，只能在函数中出现，且只能用于声明</li>
</ul>
<ul>
<li><p>多变量声明</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> x, y <span class="keyword">int</span></span><br><span class="line"><span class="keyword">var</span> (  <span class="comment">// 这种因式分解关键字的写法一般用于声明全局变量</span></span><br><span class="line">    a <span class="keyword">int</span></span><br><span class="line">    b <span class="keyword">bool</span></span><br><span class="line">)</span><br></pre></td></tr></table></figure>
</li>
<li><p>所有声明的变量必须被使用，否则会编译失败，因此需要声明但是不会用到的变量可使用<code>_</code>空白标识符占位</p>
</li>
<li><p>相同类型变量的交换赋值可以使用<code>a, b = b, a</code></p>
</li>
<li><p>常量声明。其中iota为特殊常量，可以认为是一个可以被编译器修改的常量，其值是常量所在的行index</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> (</span><br><span class="line">	d = <span class="number">4</span> <span class="comment">// 4</span></span><br><span class="line">	e <span class="comment">// 未赋值重复上一个常量赋值，4</span></span><br><span class="line">)</span><br><span class="line"><span class="keyword">const</span> (</span><br><span class="line">	a = <span class="number">2</span> <span class="comment">// 2</span></span><br><span class="line">	b = <span class="literal">iota</span> <span class="comment">//1</span></span><br><span class="line">	c <span class="comment">// 2</span></span><br><span class="line">  d = <span class="literal">iota</span> * <span class="literal">iota</span> <span class="comment">// 3 * 3 = 9</span></span><br><span class="line">  e <span class="comment">// 4 * 4 = 16</span></span><br><span class="line">)</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h4 id="运算"><a href="#运算" class="headerlink" title="运算"></a>运算</h4><ul>
<li>常规运算：<ul>
<li>算数运算<code>+ - * / % ++ --</code></li>
<li>关系运算<code>&gt; &lt; == != &gt;= &lt;=</code></li>
<li>逻辑运算<code>&amp;&amp; || !</code></li>
<li>位运算<code>&amp; | ^ &gt;&gt; &lt;&lt; &amp;^(按位清零)</code></li>
<li>赋值运算<code>=</code>(以及运算后赋值<code>+=</code>等等)</li>
<li>其他运算<code>&amp; *</code></li>
</ul>
</li>
</ul>
<h4 id="条件语句"><a href="#条件语句" class="headerlink" title="条件语句"></a>条件语句</h4><ul>
<li><code>if</code>和<code>if-else</code></li>
<li><code>switch-case</code><ul>
<li>不用类似<code>break</code>语法进行单<code>case</code>控制，可以使用<code>fallthrough</code>使得执行当前<code>case</code>后强行进入下一个<code>case</code>且不用判断下一个<code>case</code>是否为真</li>
<li>可以使用<code>switch …{ case …: }</code>的写法也可以使用<code>switch { case…: }</code>判定”true case”的写法</li>
</ul>
</li>
<li><code>select-case</code><ul>
<li>每个 case 都必须是一个通信</li>
<li>所有 channel 表达式都会被求值</li>
<li>所有被发送的表达式都会被求值</li>
<li>如果任意某个通信可以进行，它就执行，其他被忽略。</li>
<li>如果有多个 case 都可以运行，Select 会随机公平地选出一个执行。其他不会执行。 否则：<ul>
<li>如果有 default 子句，则执行该语句。</li>
<li>如果没有 default 子句，select 将阻塞，直到某个通信可以运行；Go 不会重新对 channel 或值进行求值。</li>
</ul>
</li>
<li>结合<code>for</code>循环和<code>goroutine</code>可以完成并行</li>
</ul>
</li>
<li>不支持 <code>? :</code> 形式的条件判断</li>
</ul>
<h4 id="循环语句"><a href="#循环语句" class="headerlink" title="循环语句"></a>循环语句</h4><ul>
<li><p>表示方法</p>
<ul>
<li><code>for init; condition; post { }</code></li>
<li><p><code>for condition { }</code> //等价于C语言中的while</p>
</li>
<li><p><code>for { }</code>// while true</p>
</li>
</ul>
</li>
<li><p>or 循环的 range 格式可以对 slice、map、数组、字符串等进行迭代循环</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> key, value := <span class="keyword">range</span> oldMap &#123;</span><br><span class="line">    newMap[key] = value</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h4 id="函数"><a href="#函数" class="headerlink" title="函数"></a>函数</h4><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">function_name</span><span class="params">( [parameter list] )</span> [<span class="title">return_types</span>]</span> &#123;</span><br><span class="line">   <span class="comment">// 函数体</span></span><br><span class="line">&#125; <span class="comment">// 函数定义</span></span><br><span class="line"><span class="comment">/* ==================================================== */</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">()</span></span> &#123;</span><br><span class="line">  <span class="comment">// 函数体</span></span><br><span class="line">&#125;() <span class="comment">// 匿名函数直接调用</span></span><br><span class="line"><span class="comment">/* ==================================================== */</span></span><br><span class="line">myFunc := <span class="function"><span class="keyword">func</span> <span class="params">()</span></span> &#123;</span><br><span class="line">  <span class="comment">// 函数体</span></span><br><span class="line">&#125; <span class="comment">// 声明函数变量</span></span><br><span class="line">myFunc() <span class="comment">// 调用</span></span><br><span class="line"><span class="comment">/* ==================================================== */</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">swap</span><span class="params">(x, y <span class="keyword">string</span>)</span> <span class="params">(<span class="keyword">string</span>, <span class="keyword">string</span>)</span></span> &#123;</span><br><span class="line">   <span class="keyword">return</span> y, x</span><br><span class="line">&#125; <span class="comment">// 返回多值的函数</span></span><br><span class="line"><span class="comment">/* ==================================================== */</span></span><br><span class="line"><span class="comment">/* 闭包函数 */</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">getSequence</span><span class="params">()</span> <span class="title">func</span><span class="params">()</span> <span class="title">int</span></span> &#123;</span><br><span class="line">   i:=<span class="number">0</span></span><br><span class="line">   <span class="keyword">return</span> <span class="function"><span class="keyword">func</span><span class="params">()</span> <span class="title">int</span></span> &#123;</span><br><span class="line">      i+=<span class="number">1</span></span><br><span class="line">     <span class="keyword">return</span> i  </span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br><span class="line">nextNumber := getSequence()  </span><br><span class="line">fmt.Println(nextNumber()) <span class="comment">// 1</span></span><br><span class="line">fmt.Println(nextNumber()) <span class="comment">// 2</span></span><br><span class="line">fmt.Println(nextNumber()) <span class="comment">// 3</span></span><br><span class="line"></span><br><span class="line">nextNumber1 := getSequence()  </span><br><span class="line">fmt.Println(nextNumber1()) <span class="comment">// 1</span></span><br><span class="line">fmt.Println(nextNumber1()) <span class="comment">// 2</span></span><br><span class="line"><span class="comment">/* ==================================================== */</span></span><br></pre></td></tr></table></figure>
<h4 id="变量作用域"><a href="#变量作用域" class="headerlink" title="变量作用域"></a>变量作用域</h4><ul>
<li>函数内定义的变量称为局部变量</li>
<li>函数外定义的变量称为全局变量</li>
<li>函数定义中的变量称为形式参数</li>
</ul>
<h4 id="指针"><a href="#指针" class="headerlink" title="指针"></a>指针</h4><ul>
<li>声明方法 <code>var ip *int</code></li>
<li>访问指针值 <code>fmt.Printf(&quot;*ip 变量的值: %d**\n**&quot;, *ip )</code></li>
<li>指针不赋初值默认为<code>nil</code>空指针</li>
</ul>
<h4 id="结构体"><a href="#结构体" class="headerlink" title="结构体"></a>结构体</h4><ul>
<li><p>声明方法</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> Books <span class="keyword">struct</span> &#123;</span><br><span class="line">   title <span class="keyword">string</span></span><br><span class="line">   author <span class="keyword">string</span></span><br><span class="line">   subject <span class="keyword">string</span></span><br><span class="line">   book_id <span class="keyword">int</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>定义结构体 </p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> Book1 Books   <span class="comment">// 定义空结构体</span></span><br><span class="line"></span><br><span class="line">fmt.Println(Books&#123;<span class="string">"Go 语言"</span>, <span class="string">"www.runoob.com"</span>, <span class="string">"Go 语言教程"</span>, <span class="number">6495407</span>&#125;) <span class="comment">// 按顺序定义变量值</span></span><br><span class="line"></span><br><span class="line">fmt.Println(Books&#123;title: <span class="string">"Go 语言"</span>, author: <span class="string">"www.runoob.com"</span>, subject: <span class="string">"Go 语言教程"</span>, book_id: <span class="number">6495407</span>&#125;) <span class="comment">// 指定成员值</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>访问成员</p>
<ul>
<li><code>Book1.title = &quot;some title&quot;</code></li>
<li><code>fmt.Println(Book1.title)</code></li>
</ul>
</li>
</ul>
<h4 id="切片"><a href="#切片" class="headerlink" title="切片"></a>切片</h4><blockquote>
<p>切片是对数组的抽象，可以理解为动态数组，可以追加元素，在追加时可能使切片的容量增大</p>
</blockquote>
<ul>
<li><p>声明方法</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> slice1 = []<span class="keyword">int</span>&#123;<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>&#125; <span class="comment">// 不指定数组大小声明的数组会被认为是切片</span></span><br><span class="line">slice := <span class="built_in">make</span>([]<span class="keyword">int</span>, <span class="number">2</span>, <span class="number">3</span>) <span class="comment">//声明一个容量为3，当前内含2个元素的切片</span></span><br><span class="line"><span class="keyword">var</span> slice2 = []<span class="keyword">int</span> <span class="comment">// slice2 == nil</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>初始化方法</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">slice2 := slice1[<span class="number">1</span>:] <span class="comment">// 通过slice1的引用初始化slice2</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>append 方法</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">slice3 := <span class="built_in">make</span>([]<span class="keyword">int</span>, <span class="number">2</span>, <span class="number">5</span>)</span><br><span class="line">fmt.Println(slice3) <span class="comment">// [0, 0]</span></span><br><span class="line">slice3 = <span class="built_in">append</span>(slice3, <span class="number">1</span>)</span><br><span class="line">slice3 = <span class="built_in">append</span>(slice3, <span class="number">1</span>)</span><br><span class="line">slice3 = <span class="built_in">append</span>(slice3, <span class="number">1</span>)</span><br><span class="line">slice3 = <span class="built_in">append</span>(slice3, <span class="number">1</span>) <span class="comment">// 自动扩容到10</span></span><br><span class="line">fmt.Println(slice3) <span class="comment">// [0,0,1,1,1,1]</span></span><br><span class="line">fmt.Println(<span class="built_in">cap</span>(slice3)) <span class="comment">// 10</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>copy 方法</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">slice3 := <span class="built_in">make</span>([]<span class="keyword">int</span>, <span class="number">2</span>, <span class="number">5</span>)</span><br><span class="line">slice4 := <span class="built_in">make</span>([]<span class="keyword">int</span>, <span class="built_in">len</span>(slice3), <span class="built_in">cap</span>(slice3))</span><br><span class="line"><span class="built_in">copy</span>(slice4, slice3) <span class="comment">// 可以认为是for循环两个slice中len最小的值进行赋值</span></span><br><span class="line">slice4[<span class="number">0</span>] = <span class="number">1233</span></span><br><span class="line">fmt.Println(slice3, slice4)<span class="comment">// [0,0] [1233,0]</span></span><br></pre></td></tr></table></figure>
<ul>
<li><code>copy</code> 方法使用两者长度较小的作为复制目标的长度</li>
<li>方法返回复制目标长度，即二者长度最小值</li>
</ul>
</li>
</ul>
<h4 id="Range"><a href="#Range" class="headerlink" title="Range"></a>Range</h4><ul>
<li><p>返回一个有序对<code>key, value</code>用于遍历数组/切片/通道/集合，和<code>python</code>的<code>enumerate</code>方法类似</p>
</li>
<li><p>例子</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">nums := []<span class="keyword">int</span>&#123;<span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>&#125;</span><br><span class="line">sum := <span class="number">0</span></span><br><span class="line"><span class="keyword">for</span> _, num := <span class="keyword">range</span> nums &#123;</span><br><span class="line">  sum += num</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">kvs := <span class="keyword">map</span>[<span class="keyword">string</span>]<span class="keyword">string</span>&#123;<span class="string">"a"</span>: <span class="string">"apple"</span>, <span class="string">"b"</span>: <span class="string">"banana"</span>&#125;</span><br><span class="line"><span class="keyword">for</span> k, v := <span class="keyword">range</span> kvs &#123;</span><br><span class="line">  fmt.Printf(<span class="string">"%s -&gt; %s\n"</span>, k, v)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h4 id="Map"><a href="#Map" class="headerlink" title="Map"></a>Map</h4><ul>
<li>无序键值对的集合，使用哈希表来实现</li>
<li>声明方式<ul>
<li><code>var map1 map[string]sttring</code> // 不赋初值声明</li>
<li><code>map2 := make(map[string]string)</code> // 不赋初值声明</li>
<li><code>map3  := map[string]string{&quot;a&quot;: &quot;apple&quot;, &quot;b&quot;: &quot;banana&quot;}</code> // 赋初值声明</li>
</ul>
</li>
<li>赋值方式与<code>python</code>相同</li>
<li>可以使用<code>delete()</code>函数删除字典中的键值对</li>
</ul>
<h4 id="强制类型转换"><a href="#强制类型转换" class="headerlink" title="强制类型转换"></a>强制类型转换</h4><ul>
<li>使用类似<code>float32(sum)</code>的方法对<code>var sum int = 2</code>进行强制类型转换</li>
</ul>
<h4 id="接口"><a href="#接口" class="headerlink" title="接口"></a>接口</h4><ul>
<li><p>通过定义接口，然后直接实现接口中声明的函数，进行多态实现</p>
</li>
<li><p>示例</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> phone <span class="keyword">interface</span> &#123;</span><br><span class="line">	getname() <span class="keyword">string</span></span><br><span class="line">	call()</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> Iphone <span class="keyword">struct</span> &#123;</span><br><span class="line">	</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> Nokia <span class="keyword">struct</span> &#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(iphone Iphone)</span> <span class="title">getname</span><span class="params">()</span> <span class="title">string</span></span> &#123;</span><br><span class="line">	<span class="keyword">return</span> <span class="string">"I am iphone"</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(nokia Nokia)</span> <span class="title">getname</span><span class="params">()</span> <span class="title">string</span></span> &#123;</span><br><span class="line">	<span class="keyword">return</span> <span class="string">"I am nokia"</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(iphone Iphone)</span> <span class="title">call</span><span class="params">()</span></span>  &#123;</span><br><span class="line">	fmt.Println(<span class="string">"call with iphone"</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(nokia Nokia)</span> <span class="title">call</span><span class="params">()</span></span>  &#123;</span><br><span class="line">	fmt.Println(<span class="string">"call with nokia"</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* ===============in main() ====================== */</span></span><br><span class="line">phone := <span class="built_in">new</span>(Iphone)</span><br><span class="line">fmt.Println(phone.getname()) <span class="comment">//I am iphone</span></span><br><span class="line">phone.call()<span class="comment">// call with iphone</span></span><br><span class="line"></span><br><span class="line">anotherPhone := <span class="built_in">new</span>(Nokia) </span><br><span class="line">fmt.Println(anotherPhone.getname()) <span class="comment">// I am nokia</span></span><br><span class="line">anotherPhone.call() <span class="comment">// call with nokia</span></span><br></pre></td></tr></table></figure>
</li>
</ul>
<h4 id="异常捕获"><a href="#异常捕获" class="headerlink" title="异常捕获"></a>异常捕获</h4><ul>
<li><p>通过实现<code>error.Error()</code>函数来实现异常捕获</p>
</li>
<li><p>示例</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> DivideError <span class="keyword">struct</span> &#123;</span><br><span class="line">	dividee <span class="keyword">int</span></span><br><span class="line">	divider <span class="keyword">int</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(divideError *DivideError)</span> <span class="title">Error</span><span class="params">()</span> <span class="title">string</span></span> &#123;</span><br><span class="line">	strFormat := <span class="string">`</span></span><br><span class="line"><span class="string">    Cannot proceed, the divider is zero.</span></span><br><span class="line"><span class="string">    dividee: %d</span></span><br><span class="line"><span class="string">    divider: 0</span></span><br><span class="line"><span class="string">`</span></span><br><span class="line">	<span class="keyword">return</span> fmt.Sprintf(strFormat, divideError.dividee)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">Divide</span><span class="params">(varDividee <span class="keyword">int</span>, varDivider <span class="keyword">int</span>)</span> <span class="params">(result <span class="keyword">int</span>, errorMsg <span class="keyword">string</span>)</span></span> &#123;</span><br><span class="line">	<span class="keyword">if</span> varDivider == <span class="number">0</span> &#123;</span><br><span class="line">		dData := DivideError&#123;</span><br><span class="line">			dividee: varDividee,</span><br><span class="line">			divider: varDivider,</span><br><span class="line">		&#125;</span><br><span class="line">		errorMsg = dData.Error()</span><br><span class="line">		<span class="keyword">return</span></span><br><span class="line">	&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">		<span class="keyword">return</span> varDividee / varDivider, <span class="string">""</span></span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* ===============in main() ====================== */</span></span><br><span class="line"><span class="keyword">for</span> divider := <span class="keyword">range</span> []<span class="keyword">int</span>&#123;<span class="number">0</span>, <span class="number">1</span>&#125; &#123;</span><br><span class="line">  <span class="keyword">if</span> result, errorMsg := Divide(<span class="number">100</span>, divider); errorMsg == <span class="string">""</span> &#123;</span><br><span class="line">    fmt.Println(divider, result)</span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    fmt.Println(<span class="string">"errorMsg is: "</span>, errorMsg)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/* output:</span></span><br><span class="line"><span class="comment">errorMsg is:  </span></span><br><span class="line"><span class="comment">  	Cannot proceed, the divider is zero.</span></span><br><span class="line"><span class="comment">    dividee: 100</span></span><br><span class="line"><span class="comment">    divider: 0</span></span><br><span class="line"><span class="comment">1 100</span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure>
</li>
</ul>
<h4 id="Go-并发"><a href="#Go-并发" class="headerlink" title="Go 并发"></a>Go 并发</h4><h5 id="goroutine"><a href="#goroutine" class="headerlink" title="goroutine"></a>goroutine</h5><ul>
<li><p>Go 使用 goroutine实现并发。goroutine 是轻量级线程，goroutine 的调度是由 Golang 运行时进行管理的。</p>
</li>
<li><p>开启goroutine的方法：<code>go fun(x, y, z)</code></p>
</li>
<li>Goroutine 会随着主线程的结束而自动销毁</li>
</ul>
<h5 id="channel"><a href="#channel" class="headerlink" title="channel"></a>channel</h5><ul>
<li><p>通道（channel）是用来传递数据的一个数据结构</p>
</li>
<li><p>使用方法</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">ch := <span class="built_in">make</span>(<span class="keyword">chan</span> <span class="keyword">int</span>) <span class="comment">// 声明信道</span></span><br><span class="line">ch &lt;- v    <span class="comment">// 把 v 发送到通道 ch</span></span><br><span class="line">v := &lt;-ch  <span class="comment">// 从 ch 接收数据</span></span><br><span class="line">           <span class="comment">// 并把值赋给 v</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>通道可以设置缓冲区，通过 make 的第二个参数指定缓冲区大小 <code>ch := make(chan int, 10)</code></p>
</li>
<li><p>通道遍历可使用<code>range</code>语法</p>
</li>
</ul>
<h3 id="实战"><a href="#实战" class="headerlink" title="实战"></a>实战</h3><blockquote>
<p>摘自公众号 Golang来啦</p>
</blockquote>
<h4 id="1-下面代码能否正常结束"><a href="#1-下面代码能否正常结束" class="headerlink" title="1. 下面代码能否正常结束"></a>1. 下面代码能否正常结束</h4> <figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">    v := []<span class="keyword">int</span>&#123;<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>&#125;</span><br><span class="line">    <span class="keyword">for</span> i := <span class="keyword">range</span> v &#123;</span><br><span class="line">        v = <span class="built_in">append</span>(v, i)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>对于<code>range</code>的循环次数，在最开始就已经确定，不会因为序列的变化而改变</p>
<h4 id="2-下面的代码输出是什么"><a href="#2-下面的代码输出是什么" class="headerlink" title="2. 下面的代码输出是什么"></a>2. 下面的代码输出是什么</h4>   <figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">var</span> m = [...]<span class="keyword">int</span>&#123;<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>&#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> i, v := <span class="keyword">range</span> m &#123;</span><br><span class="line">        <span class="keyword">go</span> <span class="function"><span class="keyword">func</span><span class="params">()</span></span> &#123;</span><br><span class="line">            fmt.Println(i, v)</span><br><span class="line">        &#125;()</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    time.Sleep(time.Second * <span class="number">3</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li>由于<code>range</code> 函数的返回会复用<code>i</code>和 <code>v</code> 而不是重新声明，因此在<code>println</code> 函数输出前可能可以是循环过程中的任何值。为保证唯一，可以使用临时变量或者传参的形式保证传入参数的唯一性。</li>
</ul>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">change</span><span class="params">(s ...<span class="keyword">int</span>)</span></span> &#123;</span><br><span class="line">	s = <span class="built_in">append</span>(s,<span class="number">3</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">	slice := <span class="built_in">make</span>([]<span class="keyword">int</span>,<span class="number">5</span>,<span class="number">5</span>)</span><br><span class="line">	slice[<span class="number">0</span>] = <span class="number">1</span></span><br><span class="line">	slice[<span class="number">1</span>] = <span class="number">2</span></span><br><span class="line">	change(slice...)</span><br><span class="line">	fmt.Println(slice)</span><br><span class="line">	change(slice[<span class="number">0</span>:<span class="number">2</span>]...)</span><br><span class="line">	fmt.Println(slice)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* output:</span></span><br><span class="line"><span class="comment"> [1 2 0 0 0]</span></span><br><span class="line"><span class="comment"> [1 2 3 0 0]</span></span><br><span class="line"><span class="comment">**/</span></span><br><span class="line">===========================</span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">    <span class="keyword">var</span> a = []<span class="keyword">int</span>&#123;<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>&#125;</span><br><span class="line">    <span class="keyword">var</span> r [<span class="number">5</span>]<span class="keyword">int</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> i, v := <span class="keyword">range</span> a &#123;</span><br><span class="line">        <span class="keyword">if</span> i == <span class="number">0</span> &#123;</span><br><span class="line">            a[<span class="number">1</span>] = <span class="number">12</span></span><br><span class="line">            a[<span class="number">2</span>] = <span class="number">13</span></span><br><span class="line">        &#125;</span><br><span class="line">        r[i] = v</span><br><span class="line">    &#125;</span><br><span class="line">    fmt.Println(<span class="string">"r = "</span>, r)</span><br><span class="line">    fmt.Println(<span class="string">"a = "</span>, a)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* output:</span></span><br><span class="line"><span class="comment"> r =  [1 12 13 4 5]</span></span><br><span class="line"><span class="comment"> a =  [1 12 13 4 5]</span></span><br><span class="line"><span class="comment">**/</span></span><br></pre></td></tr></table></figure>
<ul>
<li>切片的底层是一个结构体，包含切片长度、容量和一个数组指针。对切片进行<code>拷贝</code>或<code>[i:j]</code>截取操作时，底层的数组指针不会改变，仍指向同一数组。仅当在<code>append</code> 操作使得<code>len &gt; cap</code> 时才会重新创建新的切片。因此对于副本的所有操作均会应用到原切片</li>
<li>注意区分切片的声明和数组的声明</li>
</ul>
<h4 id="3-defer-和-recover"><a href="#3-defer-和-recover" class="headerlink" title="3. defer 和 recover"></a>3. defer 和 recover</h4><h5 id="defer"><a href="#defer" class="headerlink" title="defer"></a>defer</h5><ul>
<li><p>注册延迟调用的机制</p>
</li>
<li><p>把函数压入栈中，当defer的上层<strong>函数</strong>返回（包括正常返回和异常返回）后再将栈内函数弹出执行</p>
</li>
<li><p>由于是在真正返回之前进行弹栈，因此就可以通过诸如如下形式，对返回的命名参数在真正返回之前进行操作</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">fn</span><span class="params">()</span><span class="params">(r T)</span></span> &#123;</span><br><span class="line">	<span class="comment">// init t</span></span><br><span class="line">	<span class="keyword">defer</span> <span class="function"><span class="keyword">func</span><span class="params">()</span></span> &#123;</span><br><span class="line">		<span class="comment">// do something change r to change the return value which is t before</span></span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">return</span> t</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>拆解：将函数的返回命名为声明中的返回查看结果。对于匿名返回的参数，可将返回值赋给一个命名变量用来拆解</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 第一个例子：</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">f</span><span class="params">()</span> <span class="params">(r <span class="keyword">int</span>)</span></span> &#123;</span><br><span class="line">     t := <span class="number">5</span></span><br><span class="line">     <span class="keyword">defer</span> <span class="function"><span class="keyword">func</span><span class="params">()</span></span> &#123;</span><br><span class="line">       t = t + <span class="number">5</span></span><br><span class="line">     &#125;()</span><br><span class="line">     <span class="keyword">return</span> t</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 拆解后：</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">f</span><span class="params">()</span> <span class="params">(r <span class="keyword">int</span>)</span></span> &#123;</span><br><span class="line">     t := <span class="number">5</span></span><br><span class="line">     </span><br><span class="line">     <span class="comment">// 1. 赋值指令</span></span><br><span class="line">     r = t</span><br><span class="line">     </span><br><span class="line">     <span class="comment">// 2. defer被插入到赋值与返回之间执行，这个例子中返回值r没被修改过</span></span><br><span class="line">     <span class="function"><span class="keyword">func</span><span class="params">()</span></span> &#123;        </span><br><span class="line">         t = t + <span class="number">5</span></span><br><span class="line">     &#125;()</span><br><span class="line">     </span><br><span class="line">     <span class="comment">// 3. 空的return指令</span></span><br><span class="line">     <span class="keyword">return</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>综上所述，</p>
<ul>
<li>对于命名返回参数的函数使用拆解的方法看</li>
<li>对于函数式的方法应该注意是传参调用还是闭包调用，传参使用的是复制的当时的值，闭包则使用的是变量的引用</li>
<li><code>defer</code>延时调用的方法，可以在参数出现时定义其最终关闭的方法，防止后续赋值导致其失效的问题</li>
<li><code>defer</code>调用失败，会返回<code>panic</code></li>
</ul>
<h5 id="recover"><a href="#recover" class="headerlink" title="recover"></a>recover</h5></li>
<li><p>如果程序出现致命错误，触发<code>panic</code> ，此时当前正在执行程序会被直接停掉，而不只是协程。为了防止程序直接挂掉，需要在defer中使用recover对程序进行会恢复，防止程序完全挂掉</p>
</li>
<li><code>recover</code> 只有在<code>defer</code> 的上下文中才有效</li>
<li>通过<code>recover</code> 捕获<code>panic</code> 稳住主流程，以免影响其他协程的正常运行</li>
<li><code>recover</code>函数和<code>panic</code>可以认为是弹栈和压栈操作，<code>panic</code>压栈<code>interface</code>，对于生效的<code>recover</code>再弹栈<code>inteface</code></li>
</ul>
<h4 id="4-闭包"><a href="#4-闭包" class="headerlink" title="4. 闭包"></a>4. 闭包</h4><ul>
<li>闭包 = 函数 + 引用环境</li>
<li>匿名函数被称作闭包，只可直接调用或者赋值于某个变量</li>
<li>闭包捕获的变量和常量是引用传递</li>
<li>感性的理解上可以将闭包认为是声明了一个类，然后捕获的变量成为了类的成员变量</li>
</ul>
<h4 id="5-golang中-的4处用法"><a href="#5-golang中-的4处用法" class="headerlink" title="5. golang中... 的4处用法"></a>5. golang中<code>...</code> 的4处用法</h4><ul>
<li>函数中的最后一个参数，形如<code>func(n ...T)</code>表示函数在此参数（可变参数）后可接受若干个本类型的参数</li>
<li>在向可变参数函数传递参数时使用<code>func(nums...)</code>方式传入参数</li>
<li>在不定个数数组声明时，形如<code>[...]string{&quot;Moe&quot;, &quot;Larry&quot;, &quot;Curly&quot;}</code>方式，使编译器自动判定数组长度</li>
<li>在go命令中使用<code>go test ./...</code>的方式递归通配所有包文件</li>
</ul>
<h4 id="6-下面代码输出什么"><a href="#6-下面代码输出什么" class="headerlink" title="6. 下面代码输出什么"></a>6. 下面代码输出什么</h4><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">var</span> m = <span class="keyword">map</span>[<span class="keyword">string</span>]<span class="keyword">int</span>&#123;</span><br><span class="line">		<span class="string">"A"</span>: <span class="number">21</span>,</span><br><span class="line">		<span class="string">"B"</span>: <span class="number">22</span>,</span><br><span class="line">		<span class="string">"C"</span>: <span class="number">23</span>,</span><br><span class="line">	&#125;</span><br><span class="line">	counter := <span class="number">0</span></span><br><span class="line">	<span class="keyword">for</span> k, v := <span class="keyword">range</span> m &#123;</span><br><span class="line">		<span class="keyword">if</span> counter == <span class="number">0</span> &#123;</span><br><span class="line">			<span class="built_in">delete</span>(m, <span class="string">"A"</span>)</span><br><span class="line">		&#125;</span><br><span class="line">		counter++</span><br><span class="line">		fmt.Println(k, v)</span><br><span class="line">	&#125;</span><br><span class="line">	fmt.Println(<span class="string">"counter is "</span>, counter)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* output</span></span><br><span class="line"><span class="comment">A 21</span></span><br><span class="line"><span class="comment">B 22</span></span><br><span class="line"><span class="comment">C 23</span></span><br><span class="line"><span class="comment">counter is  3</span></span><br><span class="line"><span class="comment">或者</span></span><br><span class="line"><span class="comment">B 22</span></span><br><span class="line"><span class="comment">C 23</span></span><br><span class="line"><span class="comment">counter is  2</span></span><br><span class="line"><span class="comment">**/</span></span><br></pre></td></tr></table></figure>
<ul>
<li>Map 的遍历是无序的，因此若A在第一次循环，则可循环3次，若A不在第一次循环，则循环两次</li>
</ul>
<h4 id="7-break-的高级用法"><a href="#7-break-的高级用法" class="headerlink" title="7. break 的高级用法"></a>7. break 的高级用法</h4><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">	<span class="comment">/* local variable definition */</span></span><br><span class="line">	a := <span class="number">10</span></span><br><span class="line"></span><br><span class="line">	<span class="comment">/* for loop execution */</span></span><br><span class="line">I:</span><br><span class="line">	<span class="keyword">for</span> &#123;</span><br><span class="line">		<span class="keyword">for</span> &#123;</span><br><span class="line">			a -= <span class="number">1</span></span><br><span class="line">			fmt.Println(a)</span><br><span class="line">			<span class="keyword">if</span> a &lt; <span class="number">0</span> &#123;</span><br><span class="line">				<span class="keyword">break</span> I <span class="comment">// 使得一次性退出两层循环</span></span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="8-下面代码输出什么"><a href="#8-下面代码输出什么" class="headerlink" title="8. 下面代码输出什么"></a>8. 下面代码输出什么</h4><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">    i := <span class="number">1</span></span><br><span class="line">    s := []<span class="keyword">string</span>&#123;<span class="string">"A"</span>, <span class="string">"B"</span>, <span class="string">"C"</span>&#125;</span><br><span class="line">    i, s[i<span class="number">-1</span>] = <span class="number">2</span>, <span class="string">"Z"</span></span><br><span class="line">    fmt.Printf(<span class="string">"s: %v \n"</span>, s)</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/* output</span></span><br><span class="line"><span class="comment">s: [Z,B,C]</span></span><br><span class="line"><span class="comment">**/</span></span><br></pre></td></tr></table></figure>
<ul>
<li>赋值顺序：先计算等号左边表达式取值，再考虑等号右边的赋值</li>
</ul>
<h4 id="9-下面代码输出什么"><a href="#9-下面代码输出什么" class="headerlink" title="9.下面代码输出什么"></a>9.下面代码输出什么</h4><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">ts := [<span class="number">2</span>]X&#123;&#125;</span><br><span class="line"><span class="keyword">for</span> i, t := <span class="keyword">range</span> ts[:] &#123;</span><br><span class="line">  <span class="keyword">switch</span> i &#123;</span><br><span class="line">    <span class="keyword">case</span> <span class="number">0</span>:</span><br><span class="line">    t.n = <span class="number">3</span></span><br><span class="line">    ts[<span class="number">1</span>].n = <span class="number">9</span></span><br><span class="line">    <span class="keyword">case</span> <span class="number">1</span>:</span><br><span class="line">    fmt.Println(ts[i].n, <span class="string">" "</span>)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">fmt.Println(ts) <span class="comment">// [&#123;0&#125; &#123;9&#125;]</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">ts := [<span class="number">2</span>]X&#123;&#125;</span><br><span class="line">	<span class="keyword">for</span> i := <span class="keyword">range</span> ts[:] &#123;</span><br><span class="line">		<span class="keyword">switch</span> i &#123;</span><br><span class="line">		<span class="keyword">case</span> <span class="number">0</span>:</span><br><span class="line">			ts[<span class="number">1</span>].n = <span class="number">9</span></span><br><span class="line">		<span class="keyword">case</span> <span class="number">1</span>:</span><br><span class="line">			fmt.Println(ts[i].n, <span class="string">" "</span>)</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">fmt.Println(ts) <span class="comment">// [&#123;0&#125; &#123;9&#125;]</span></span><br></pre></td></tr></table></figure>
<ul>
<li>切片操作生成新的切片，使用<code>range</code>返回参数循环变量均为变量副本，对其操作不会影响原切片</li>
<li>切片操作生成新的切片，但是共享底层数组，因此直接使用下标操作会同时生效</li>
</ul>
<h4 id="10-下面代码有什么问题"><a href="#10-下面代码有什么问题" class="headerlink" title="10. 下面代码有什么问题"></a>10. 下面代码有什么问题</h4><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 错误代码</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">    f, err := os.Open(<span class="string">"file"</span>)</span><br><span class="line">    <span class="keyword">defer</span> f.Close()<span class="comment">// 此处f可能为nil，导致defer中再次出现panic</span></span><br><span class="line">    <span class="keyword">if</span> err != <span class="literal">nil</span> &#123;</span><br><span class="line">        <span class="keyword">return</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    b, err := ioutil.ReadAll(f)</span><br><span class="line">    <span class="built_in">println</span>(<span class="keyword">string</span>(b))</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">//修正代码</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">    f, err := os.Open(<span class="string">"file"</span>)</span><br><span class="line">    <span class="keyword">if</span> err != <span class="literal">nil</span> &#123;</span><br><span class="line">        <span class="keyword">return</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">defer</span> f.Close()</span><br><span class="line"></span><br><span class="line">    b, err := ioutil.ReadAll(f)</span><br><span class="line">    <span class="built_in">println</span>(<span class="keyword">string</span>(b))</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li>在函数使用场景下，应注意先判断<code>error</code>只有<code>error != nil</code>时，可认为返回值有效，然后进一步处理</li>
</ul>
<h4 id="11-下面代码有什么问题"><a href="#11-下面代码有什么问题" class="headerlink" title="11. 下面代码有什么问题"></a>11. 下面代码有什么问题</h4><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">    <span class="keyword">var</span> wg sync.WaitGroup</span><br><span class="line">    wg.Add(<span class="number">1</span>)</span><br><span class="line">    <span class="keyword">go</span> <span class="function"><span class="keyword">func</span><span class="params">()</span></span> &#123;</span><br><span class="line">        fmt.Println(<span class="string">"1"</span>)</span><br><span class="line">      	wg.Done() </span><br><span class="line">        wg.Add(<span class="number">1</span>)</span><br><span class="line">    &#125;()</span><br><span class="line">    wg.Wait() <span class="comment">// panic here</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// panic: sync: WaitGroup is reused before previous Wait has returned</span></span><br></pre></td></tr></table></figure>
<ul>
<li>调用<code>Done()</code>后立刻调用<code>Add(1)</code>导致<code>Wait()</code>函数执行时，发现<code>wg</code>变量仍在被使用，误以为自己错误进入了<code>Wait()</code>函数而<code>panic</code></li>
<li>在使用<code>sync.WaitGroup</code>时，<code>Add(n)</code>就要配对n个<code>Done()</code>调用，否则会出现死锁</li>
</ul>
<h4 id="12-下面代码输出什么"><a href="#12-下面代码输出什么" class="headerlink" title="12. 下面代码输出什么"></a>12. 下面代码输出什么</h4><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> Slice []<span class="keyword">int</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">NewSlice</span><span class="params">()</span> <span class="title">Slice</span></span> &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">make</span>(Slice, <span class="number">0</span>)</span><br><span class="line"> &#125;</span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(s *Slice)</span> <span class="title">Add</span><span class="params">(elem <span class="keyword">int</span>)</span> *<span class="title">Slice</span></span> &#123;</span><br><span class="line">     *s = <span class="built_in">append</span>(*s, elem)</span><br><span class="line">    fmt.Print(elem)</span><br><span class="line">     <span class="keyword">return</span> s</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">    s := NewSlice()</span><br><span class="line">    <span class="keyword">defer</span> s.Add(<span class="number">1</span>).Add(<span class="number">2</span>)</span><br><span class="line">    s.Add(<span class="number">3</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// output: 132</span></span><br></pre></td></tr></table></figure>
<ul>
<li><code>defer</code> 只会执行一级函数，对于循环调用，会提前计算到倒数第二级函数结果，仅在<code>defer</code>中执行最后一次调用</li>
</ul>
<h4 id="13-下面代码输出什么"><a href="#13-下面代码输出什么" class="headerlink" title="13. 下面代码输出什么"></a>13. 下面代码输出什么</h4><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">alwaysFalse</span><span class="params">()</span> <span class="title">bool</span></span> &#123;</span><br><span class="line">	<span class="keyword">return</span> <span class="literal">false</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;&#125;</span><br><span class="line">	<span class="keyword">switch</span> alwaysFalse()</span><br><span class="line">	&#123;</span><br><span class="line">	<span class="keyword">case</span> <span class="literal">false</span>:</span><br><span class="line">		fmt.Println(<span class="string">"false"</span>)</span><br><span class="line"></span><br><span class="line">	<span class="keyword">case</span> <span class="literal">true</span>:</span><br><span class="line">		fmt.Println(<span class="string">"true"</span>)</span><br><span class="line"></span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li><p>首先注意到，第六行大括号独占一行。因此可以参考<a href="https://gfw.go101.org/article/line-break-rules.html" target="_blank" rel="noopener">golang 代码断行规则</a></p>
</li>
<li><p>golang 在编译阶段，会在行尾是一下情况时，在其后插入分号</p>
<ul>
<li><p>标识符</p>
</li>
<li><p>整数、浮点数、虚部、码点、字符串字面表示形式</p>
<blockquote>
<p> 字面表示形式可以理解为变量在代码中的表现，例如值为15但字面表示形式可以是15、0xF、0b1111等多种字面表示形式</p>
</blockquote>
</li>
<li><p>break、continue、fallthrough、return</p>
</li>
<li>++、–</li>
<li>)、}、]</li>
<li>为了允许复杂语句完全显示在一个代码行中，分号可能被插在一个右小括号<code>)</code>或者右花括号<code>}</code>之前</li>
</ul>
</li>
<li><p>对于上述情况外的其他情况，分号需要自行插入</p>
</li>
<li><p>对于可能隐式插入分号的断句可以使用合法的<code>,</code>规避隐式分号的插入</p>
</li>
<li><p>在上述代码中，<code>alwaysFalse</code>函数只是被执行，但是没有被变量接收，等价于如下代码</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">alwaysFalse</span><span class="params">()</span> <span class="title">bool</span></span> &#123;</span><br><span class="line">	<span class="keyword">return</span> <span class="literal">false</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;&#125;</span><br><span class="line">	<span class="keyword">switch</span> _ = alwaysFalse();&#123;</span><br><span class="line">	<span class="keyword">case</span> <span class="literal">false</span>:</span><br><span class="line">		fmt.Println(<span class="string">"false"</span>)</span><br><span class="line"></span><br><span class="line">	<span class="keyword">case</span> <span class="literal">true</span>:</span><br><span class="line">		fmt.Println(<span class="string">"true"</span>)</span><br><span class="line"></span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>上述代码直接进入<code>case true</code>，若希望实现效果，应该改为如下形式</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">alwaysFalse</span><span class="params">()</span> <span class="title">bool</span></span> &#123;</span><br><span class="line">	<span class="keyword">return</span> <span class="literal">false</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;&#125;</span><br><span class="line">	<span class="keyword">switch</span> tmp := alwaysFalse()</span><br><span class="line">			tmp &#123;</span><br><span class="line">	<span class="keyword">case</span> <span class="literal">false</span>:</span><br><span class="line">		fmt.Println(<span class="string">"false"</span>)</span><br><span class="line">	<span class="keyword">case</span> <span class="literal">true</span>:</span><br><span class="line">		fmt.Println(<span class="string">"true"</span>)</span><br><span class="line"></span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>仍然是个很奇怪的写法，使得代码可读性大大降低，非常不推荐</p>
</li>
<li><p>可以使用<code>go fmt</code>和<code>go vet</code>命令进行代码格式化，增加代码规范性，发现可能的逻辑错误</p>
</li>
</ul>
<h4 id="14-下面代码可以编译通过么"><a href="#14-下面代码可以编译通过么" class="headerlink" title="14. 下面代码可以编译通过么"></a>14. 下面代码可以编译通过么</h4><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">f</span><span class="params">(x <span class="keyword">int</span>)</span></span> &#123;</span><br><span class="line">	<span class="keyword">switch</span> x &#123;</span><br><span class="line">	<span class="keyword">case</span> <span class="number">1</span>:</span><br><span class="line">		&#123;</span><br><span class="line">			<span class="keyword">goto</span> A</span><br><span class="line">		A:</span><br><span class="line">		&#125;</span><br><span class="line">	<span class="keyword">case</span> <span class="number">2</span>:</span><br><span class="line">		<span class="keyword">goto</span> B</span><br><span class="line">	B: <span class="comment">// 编译失败，tag后缺少语句</span></span><br><span class="line">	<span class="keyword">case</span> <span class="number">0</span>:</span><br><span class="line">		<span class="keyword">goto</span> C</span><br><span class="line">	C:</span><br><span class="line">	&#125; </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li>编译器会在7行和14行花括号前加入<code>;</code>使得tag后生成一个由<code>;</code>单独构成的空语句，从而使得<code>A</code>和<code>C</code>两个tag合法</li>
<li>可在13行后加入<code>;</code>使得语法编译通过</li>
</ul>
<h4 id="15-下面代码输出什么"><a href="#15-下面代码输出什么" class="headerlink" title="15. 下面代码输出什么"></a>15. 下面代码输出什么</h4><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">	fmt.Println(strings.TrimRight(<span class="string">"ABBA"</span>, <span class="string">"BA"</span>)) <span class="comment">// ""</span></span><br><span class="line">  fmt.Println(strings.TrimRight(<span class="string">"ABDBABBBA"</span>, <span class="string">"BA"</span>)) <span class="comment">// "ABD"</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li>输出空字符串，<code>TrimRight</code>会将第二字符串中出现的全部字符从第一字符串右边开始匹配直到匹配不上为止</li>
<li><code>TrimSuffix</code>可以完成去除后缀的效果</li>
</ul>
<h4 id="16-下面代码输出什么"><a href="#16-下面代码输出什么" class="headerlink" title="16. 下面代码输出什么"></a>16. 下面代码输出什么</h4><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> x <span class="keyword">int</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">init</span><span class="params">()</span></span> &#123;</span><br><span class="line"> 	x++ </span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">  init()</span><br><span class="line">  fmt.Println(x)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li>编译失败。<code>init</code>函数不能被调用</li>
<li><code>main()</code>函数不可带参数且不能有返回</li>
</ul>
<h4 id="17-下面代码输出什么"><a href="#17-下面代码输出什么" class="headerlink" title="17. 下面代码输出什么"></a>17. 下面代码输出什么</h4><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> User <span class="keyword">struct</span> &#123;</span><br><span class="line">	Name <span class="keyword">string</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> Employee User</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(u *User)</span><span class="title">SetName</span><span class="params">(name <span class="keyword">string</span>)</span></span> &#123;</span><br><span class="line">	fmt.Println(name)</span><br><span class="line">	u.Name = name</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">  e := <span class="built_in">new</span>(Employee)</span><br><span class="line">	e.SetName()</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li>编译失败，<code>SetName</code>为User实现的函数，<code>Employee</code>是重新定义的类，需要重新实现<code>SetName</code>实例才可调用</li>
<li>修改方法<ol>
<li>重写<code>func (e *Employee)SetName(name string)</code>函数</li>
<li>将<code>User</code>作为<code>Employee</code>的匿名变量，隐式调用<code>User</code>的<code>SetName</code>函数</li>
<li>同时使用1和2修改，导致两个<code>SetName</code>的情况时，调用<code>User</code>的<code>SetName</code>需要显式调用</li>
</ol>
</li>
</ul>

      
    </div>
    
    
    

    

    

    
      <div>
        <ul class="post-copyright">
  <li class="post-copyright-author">
    <strong>本文作者：</strong>
    Thomstrong
  </li>
  <li class="post-copyright-link">
    <strong>本文链接：</strong>
    <a href="https://thomstrong.github.io/2019/07/23/first-golang/" title="Go 语言基础学习">https://thomstrong.github.io/2019/07/23/first-golang/</a>
  </li>
  <li class="post-copyright-license">
    <strong>版权声明： </strong>
    本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/3.0/" rel="external nofollow" target="_blank">CC BY-NC-SA 3.0</a> 许可协议。转载请注明出处！
  </li>
</ul>

      </div>
    

    <footer class="post-footer">
      
        <div class="post-tags">
          
            <a href="/tags/Golang/" rel="tag"># Golang</a>
          
        </div>
      

      
      
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/2019/07/15/first-java/" rel="next" title="Java 基础复习">
                <i class="fa fa-chevron-left"></i> Java 基础复习
              </a>
            
          </div>

          <span class="post-nav-divider"></span>

          <div class="post-nav-prev post-nav-item">
            
              <a href="/2019/07/28/microservice/" rel="prev" title="夏令营作业集合">
                夏令营作业集合 <i class="fa fa-chevron-right"></i>
              </a>
            
          </div>
        </div>
      

      
      
    </footer>
  </div>
  
  
  
  </article>



    <div class="post-spread">
      
    </div>
  </div>


          </div>
          


          

  



        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
      <div id="sidebar-dimmer"></div>
    
    <div class="sidebar-inner">

      

      
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap">
            文章目录
          </li>
          <li class="sidebar-nav-overview" data-target="site-overview-wrap">
            站点概览
          </li>
        </ul>
      

      <section class="site-overview-wrap sidebar-panel">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <img class="site-author-image" itemprop="image" src="/images/avatar.jpg" alt="Thomstrong">
            
              <p class="site-author-name" itemprop="name">Thomstrong</p>
              <p class="site-description motion-element" itemprop="description"></p>
          </div>

			<!--my custom code begin-->
			<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.1.0/jquery.min.js"></script>
			<script src="https://cdnjs.cloudflare.com/ajax/libs/velocity/1.5.0/velocity.min.js"></script>
			<script type="text/javascript">
			  $("#sidebar").hover(function(){
				$("#mydivshow").velocity('stop').velocity({opacity: 1});
			  },function(){
				$("#mydivshow").velocity('stop').velocity({opacity: 0});
			  });
			</script>
			<div id="mydivshow" class="mydivshow">
			<!--my custom code end-->
			
          <nav class="site-state motion-element">

            
              <div class="site-state-item site-state-posts">
              
                <a href="/archives">
              
                  <span class="site-state-item-count">19</span>
                  <span class="site-state-item-name">日志</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-categories">
                <a href="/categories/index.html">
                  <span class="site-state-item-count">3</span>
                  <span class="site-state-item-name">分类</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-tags">
                <a href="/tags/index.html">
                  <span class="site-state-item-count">15</span>
                  <span class="site-state-item-name">标签</span>
                </a>
              </div>
            

          </nav>

          

          <div class="links-of-author motion-element">
            
              
                <span class="links-of-author-item">
                  <a href="https://github.com/Thomstrong" target="_blank" title="GitHub">
                    
                      <i class="fa fa-fw fa-github"></i>GitHub</a>
                </span>
              
                <span class="links-of-author-item">
                  <a href="mailto:thomstrong@dingtalk.com" target="_blank" title="E-Mail">
                    
                      <i class="fa fa-fw fa-envelope"></i>E-Mail</a>
                </span>
              
            
          </div>

          
          

          
          

          
        </div>
		<!--my custom code begin-->
		</div>
		<!--my custom code end-->
      </section>

      
      <!--noindex-->
        <section class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active">
          <div class="post-toc">

            
              
            

            
              <div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-3"><a class="nav-link" href="#简介"><span class="nav-number">1.</span> <span class="nav-text">简介</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#分类"><span class="nav-number">1.1.</span> <span class="nav-text">分类</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#特色"><span class="nav-number">1.2.</span> <span class="nav-text">特色</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#用途"><span class="nav-number">1.3.</span> <span class="nav-text">用途</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#写代码"><span class="nav-number">2.</span> <span class="nav-text">写代码</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#一个例子"><span class="nav-number">2.1.</span> <span class="nav-text">一个例子</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#变量"><span class="nav-number">2.2.</span> <span class="nav-text">变量</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#运算"><span class="nav-number">2.3.</span> <span class="nav-text">运算</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#条件语句"><span class="nav-number">2.4.</span> <span class="nav-text">条件语句</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#循环语句"><span class="nav-number">2.5.</span> <span class="nav-text">循环语句</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#函数"><span class="nav-number">2.6.</span> <span class="nav-text">函数</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#变量作用域"><span class="nav-number">2.7.</span> <span class="nav-text">变量作用域</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#指针"><span class="nav-number">2.8.</span> <span class="nav-text">指针</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#结构体"><span class="nav-number">2.9.</span> <span class="nav-text">结构体</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#切片"><span class="nav-number">2.10.</span> <span class="nav-text">切片</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Range"><span class="nav-number">2.11.</span> <span class="nav-text">Range</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Map"><span class="nav-number">2.12.</span> <span class="nav-text">Map</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#强制类型转换"><span class="nav-number">2.13.</span> <span class="nav-text">强制类型转换</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#接口"><span class="nav-number">2.14.</span> <span class="nav-text">接口</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#异常捕获"><span class="nav-number">2.15.</span> <span class="nav-text">异常捕获</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Go-并发"><span class="nav-number">2.16.</span> <span class="nav-text">Go 并发</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#goroutine"><span class="nav-number">2.16.1.</span> <span class="nav-text">goroutine</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#channel"><span class="nav-number">2.16.2.</span> <span class="nav-text">channel</span></a></li></ol></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#实战"><span class="nav-number">3.</span> <span class="nav-text">实战</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#1-下面代码能否正常结束"><span class="nav-number">3.1.</span> <span class="nav-text">1. 下面代码能否正常结束</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#2-下面的代码输出是什么"><span class="nav-number">3.2.</span> <span class="nav-text">2. 下面的代码输出是什么</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#3-defer-和-recover"><span class="nav-number">3.3.</span> <span class="nav-text">3. defer 和 recover</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#defer"><span class="nav-number">3.3.1.</span> <span class="nav-text">defer</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#recover"><span class="nav-number">3.3.2.</span> <span class="nav-text">recover</span></a></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#4-闭包"><span class="nav-number">3.4.</span> <span class="nav-text">4. 闭包</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#5-golang中-的4处用法"><span class="nav-number">3.5.</span> <span class="nav-text">5. golang中... 的4处用法</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#6-下面代码输出什么"><span class="nav-number">3.6.</span> <span class="nav-text">6. 下面代码输出什么</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#7-break-的高级用法"><span class="nav-number">3.7.</span> <span class="nav-text">7. break 的高级用法</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#8-下面代码输出什么"><span class="nav-number">3.8.</span> <span class="nav-text">8. 下面代码输出什么</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#9-下面代码输出什么"><span class="nav-number">3.9.</span> <span class="nav-text">9.下面代码输出什么</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#10-下面代码有什么问题"><span class="nav-number">3.10.</span> <span class="nav-text">10. 下面代码有什么问题</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#11-下面代码有什么问题"><span class="nav-number">3.11.</span> <span class="nav-text">11. 下面代码有什么问题</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#12-下面代码输出什么"><span class="nav-number">3.12.</span> <span class="nav-text">12. 下面代码输出什么</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#13-下面代码输出什么"><span class="nav-number">3.13.</span> <span class="nav-text">13. 下面代码输出什么</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#14-下面代码可以编译通过么"><span class="nav-number">3.14.</span> <span class="nav-text">14. 下面代码可以编译通过么</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#15-下面代码输出什么"><span class="nav-number">3.15.</span> <span class="nav-text">15. 下面代码输出什么</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#16-下面代码输出什么"><span class="nav-number">3.16.</span> <span class="nav-text">16. 下面代码输出什么</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#17-下面代码输出什么"><span class="nav-number">3.17.</span> <span class="nav-text">17. 下面代码输出什么</span></a></li></ol></li></ol></div>
            

          </div>
        </section>
      <!--/noindex-->
      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; 2017 &mdash; <span itemprop="copyrightYear">2020</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Thomstrong</span>

  
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item-icon">
      <i class="fa fa-area-chart"></i>
    </span>
    
      <span class="post-meta-item-text">Site words total count&#58;</span>
    
    <span title="Site words total count">37.1k</span>
  
</div>






  <div class="theme-info">主题 &mdash; <a class="theme-link" target="_blank" href="https://github.com/iissnan/hexo-theme-next">NexT.Muse</a></div>




        







        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
          <span id="scrollpercent"><span>0</span>%</span>
        
      </div>
    

    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  


  











  
  
    <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>
  

  
  
    <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>
  

  
  
    <script type="text/javascript" src="/lib/canvas-nest/canvas-nest.min.js"></script>
  


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.3"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.3"></script>



  
  

  
  <script type="text/javascript" src="/js/src/scrollspy.js?v=5.1.3"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=5.1.3"></script>



  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.3"></script>




  


  




	





  





  












  





  

  

  

  
  

  
  


  
  <script type="text/javascript" src="/js/src/js.cookie.js?v=5.1.3"></script>
  <script type="text/javascript" src="/js/src/scroll-cookie.js?v=5.1.3"></script>


  
  <script type="text/javascript" src="/js/src/exturl.js?v=5.1.3"></script>


  <script src="/js/src/Aplayer-Controler.js"></script>
<div id="AP-controler"></div>
<script type="text/javascript">
var myapc=new APlayer_Controler({
		APC_dom:$('#AP-controler'),
		aplayer:ap, //此为绑定的aplayer对象
		attach_right:false,
		position:{top:'300px',bottom:''},
		fixed:true,
		btn_width:100,
		btn_height:120,
		img_src:['http://oty1v077k.bkt.clouddn.com/bukagirl.jpg',
				'http://oty1v077k.bkt.clouddn.com/jumpgirl.jpg',
				'http://oty1v077k.bkt.clouddn.com/pentigirl.jpg',
				'http://oty1v077k.bkt.clouddn.com/%E8%90%8C1.gif'],
		img_style:{repeat:'no-repeat',position:'center',size:'contain'},
		ctrls_color:'rgba(173,255,47,0.8)',
		ctrls_hover_color:'rgba(255,140,0,0.7)',
		tips_on:true,
		tips_width:140,
		tips_height:25,
		tips_color:'rgba(255,255,255,0.6)',
		tips_content:{},
		timeout:30
	});
</script>
  
<script>
(function(){
    var bp = document.createElement('script');
    var curProtocol = window.location.protocol.split(':')[0];
    if (curProtocol === 'https') {
        bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';
    }
    else {
        bp.src = 'http://push.zhanzhang.baidu.com/push.js';
    }
    var s = document.getElementsByTagName("script")[0];
    s.parentNode.insertBefore(bp, s);
})();
</script>

<!-- 页面点击小红心 -->
<script type="text/javascript" src="/js/src/love.js"></script>



</body>
</html>
